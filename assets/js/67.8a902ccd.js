(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{389:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"_1、第一步拉取代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、第一步拉取代码"}},[s._v("#")]),s._v(" 1、第一步拉取代码")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://gitee.com/y_project/RuoYi-Cloud.git\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_2、打包前端项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、打包前端项目"}},[s._v("#")]),s._v(" 2、打包前端项目")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("安装前检查")]),s._v(" Node 是否安装")]),s._v(" "),a("li",[s._v("注意不要安装版本太高！最好选择 16.x版本 , "),a("a",{attrs:{href:"https://nodejs.org/dist/latest-v16.x/",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("下载依赖")]),s._v(" "),a("li",[s._v("打包")])]),s._v(" "),a("p",[s._v("下载Node")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/download-node-16.png",alt:""}})]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("注意配置Node环境变量，配置完毕后，之前打开的 cmd 窗口要关闭才能生效！")])])]),s._v(" "),a("p",[a("strong",[s._v("下载依赖")]),s._v(" 执行 "),a("code",[s._v("\\ruoyi-ui\\bin")]),s._v(" 目录下的脚本")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ruoyi-ui"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("package.bat\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("打包")]),s._v(" "),a("code",[s._v("\\ruoyi-ui\\bin")]),s._v("目录下的脚本")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ruoyi-ui"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("build.bat\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_3、后端服务java接口打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、后端服务java接口打包"}},[s._v("#")]),s._v(" 3、后端服务Java接口打包")]),s._v(" "),a("ul",[a("li",[s._v("修改 host 地址")]),s._v(" "),a("li",[s._v("执行 "),a("code",[s._v("bin")]),s._v(" 目录下的 "),a("code",[s._v("clean.bat")])]),s._v(" "),a("li",[s._v("打包，执行 "),a("code",[s._v("bin")]),s._v(" 目录下的 "),a("code",[s._v("package.bat")])])]),s._v(" "),a("p",[s._v("修改 "),a("strong",[s._v("host")]),s._v(" 地址，将 "),a("strong",[s._v("host")]),s._v(" 地址修改为对应在服务器上部署的 "),a("strong",[s._v("服务名")])]),s._v(" "),a("p",[s._v("例如修改 "),a("code",[s._v("ruoyi-modules-system")]),s._v(" 服务")]),s._v(" "),a("p",[s._v("修改之前")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 未修改之前")]),s._v("\ndiscovery:\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务注册地址")]),s._v("\n        server-addr: localhost:8848\n      config:\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置中心地址")]),s._v("\n        server-addr:  localhost:8848\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("修改之后")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("discovery:\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务注册地址")]),s._v("\n        server-addr:  ruoyi-nacos:8848\n      config:\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置中心地址")]),s._v("\n        server-addr:  ruoyi-nacos:8848\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/update-host-ip.png",alt:""}}),s._v("​")]),s._v(" "),a("p",[s._v("其他服务参照这个操作 修改！")]),s._v(" "),a("p",[s._v("一定要对应 "),a("code",[s._v("docker-compose.yml")]),s._v(" 文件中的服务名 ！！！")]),s._v(" "),a("blockquote",[a("p",[s._v("注意检查 mvn 命令是否生效，如果不生效请配置maven环境变量")])]),s._v(" "),a("p",[s._v("清除之前缓存,否则会导致修改配置不生效")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("clean.bat\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("打包")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("clean.bat\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_4、上传到服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、上传到服务器"}},[s._v("#")]),s._v(" 4、上传到服务器")]),s._v(" "),a("p",[s._v("将之前打包好的各个项目打包拷贝到 "),a("code",[s._v("docker")]),s._v(" 目录")]),s._v(" "),a("p",[s._v("可以直接 执行拷贝脚本")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("docker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("copy.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[a("strong",[s._v("注意")]),s._v("：官方给的 "),a("code",[s._v("copy.sh")]),s._v(" 脚本拷贝命令可能导致一些文件拷贝不全")])]),s._v(" "),a("ul",[a("li",[s._v("检查 sql 脚本是否拷贝完全 参考 "),a("code",[s._v("sql/*sql")])]),s._v(" "),a("li",[s._v("检查 "),a("code",[s._v("docker/nginx/html/dist")]),s._v(" 目录中是否含有文件 参考 "),a("code",[s._v("ruoyi-ui/dist")]),s._v(" 如果 IDE 中找不到，是因为 IDE 中屏蔽了，可以到本地资源管理器，的该目录下拷贝到对应文件加中")]),s._v(" "),a("li",[s._v("注意 "),a("code",[s._v("jar")]),s._v("包是否打包完全到 "),a("code",[s._v("/docker/ruoyi/*/jar/")]),s._v(" 目录下")])]),s._v(" "),a("p",[s._v("下面给出参考图")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/upload-1.png",alt:""}}),s._v("​")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/upload-2.png",alt:""}}),s._v("​")]),s._v(" "),a("p",[s._v("将项目中整个docker目录上传到服务器，例如 "),a("code",[s._v("/usr/local/project/ruoyi-cloud")])]),s._v(" "),a("p",[s._v("完毕之后将 "),a("code",[s._v("docker")]),s._v(" 文件加上传到服务器中，接下来就是部署了")]),s._v(" "),a("h3",{attrs:{id:"_5、项目部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、项目部署"}},[s._v("#")]),s._v(" 5、项目部署")]),s._v(" "),a("h4",{attrs:{id:"_1、安装docker和docker-compose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装docker和docker-compose"}},[s._v("#")]),s._v(" 1、安装docker和docker-compose")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.docker.com/engine/install/centos/",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装 docker"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://docs.docker.com/compose/install/linux",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装docker-compose"),a("OutboundLink")],1)])]),s._v(" "),a("p",[a("strong",[s._v("补充：")])]),s._v(" "),a("p",[s._v("1、添加 docker 镜像源")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/docker/daemon.json\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-vim line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"registry-mirrors"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://ezs5jiab.mirror.aliyuncs.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("重启生效")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl daemon-reload\nsystemctl restart "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("2、 官方 docker-compose 安装有点慢，执行这个命令可能快点")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-SL")]),s._v(" https://get.daocloud.io/docker/compose/releases/download/v2.16.0/docker-compose-linux-x86_64 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" /usr/local/bin/docker-compose\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("不要忘了安装完毕之后給文件添加可执行命令")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /usr/local/bin/docker-compose\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("检查是否安装成功,输出对应版本号就是安装成功了")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" version\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2、清空安装环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、清空安装环境"}},[s._v("#")]),s._v(" 2、清空安装环境")]),s._v(" "),a("blockquote",[a("p",[s._v("为什么要清空之前的镜像？")])]),s._v(" "),a("p",[s._v("本人安装之前吃过亏，之前安装失败没有修改本地host，导致部署失败。")]),s._v(" "),a("p",[s._v("修改之后在上传，如果不删除之前的容器和镜像，会继续部署失败！😭")]),s._v(" "),a("p",[s._v("因为 docker build 之前检查是否有这个镜像")]),s._v(" "),a("p",[s._v("如果有这个镜像会基于这个镜像，构建容器,结果当然是失败了！🤣")]),s._v(" "),a("p",[s._v("没有才会重新构建容器")]),s._v(" "),a("blockquote",[a("p",[s._v("删除容器")])]),s._v(" "),a("p",[s._v("查看是否有容器")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果有容器执行该命令，没有就不要执行了")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-aq")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("删除镜像")])]),s._v(" "),a("p",[s._v("通过"),a("code",[s._v("docker images")]),s._v(" 查看已经安装的镜像")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("注意不建议删除 nacos、mysql、redis,nginx镜像")])]),s._v(" "),a("p",[s._v("如下删除红框中的容器")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("REPOSITORY                    TAG       IMAGE ID       CREATED         SIZE\ndocker-ruoyi-modules-system   latest    c755d24e3e7d   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" hours ago     379MB\ndocker-ruoyi-gateway          latest    8976e5938ec7   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" hours ago     372MB\ndocker-ruoyi-auth             latest    99f438b7efb7   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" hours ago     364MB\nnginx                         latest    605c77e624dd   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" months ago   141MB\nredis                         latest    7614ae9453d1   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" months ago   113MB\nmysql                         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),s._v("       c20987f18b13   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" months ago   448MB\nmysql                         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),s._v("       3218b38490ce   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" months ago   516MB\nnacos/nacos-server            latest    bdf60dc2ada3   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" months ago   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".05GB\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/images1.png",alt:""}}),s._v("​")]),s._v(" "),a("p",[s._v("镜像删除")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" 镜像ID\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("例如删除 三个 "),a("code",[s._v("ruoyi-gateway")]),s._v(" 、"),a("code",[s._v("ruoyi-auth")]),s._v("、"),a("code",[s._v("ruoyi-modules-system")]),s._v(" 三个容器镜像")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" c755d24e3e7d 8976e5938ec7 99f438b7efb7\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3-、docker-compse-构建服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-、docker-compse-构建服务"}},[s._v("#")]),s._v(" 3 、docker-compse 构建服务")]),s._v(" "),a("p",[a("strong",[s._v("注意以下命令都是在 刚刚上传docker文件夹下")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("-bash-4.2"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\ncopy.sh  deploy.sh  docker-compose.yml  mysql  nacos  nginx  redis  ruoyi\n-bash-4.2"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pwd")]),s._v("\n/root/docker\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("br"),s._v(" "),a("p",[a("strong",[s._v("1、启动 基础服务")])]),s._v(" "),a("ul",[a("li",[s._v("MySQL服务")]),s._v(" "),a("li",[s._v("Redis  服务")]),s._v(" "),a("li",[s._v("Nacos 服务")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" up "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" ruoyi-mysql ruoyi-redis ruoyi-nacos\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("不要急于开启其他服务，服务开启后检查 MySQL 中是否执行了 sql 脚本")]),s._v(" "),a("p",[s._v("也可以通过 mysql 可视化工具操作,"),a("strong",[s._v("如果没有对应数据库，可导入之前的 sql 脚本")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/mysql.png",alt:""}}),s._v("​")]),s._v(" "),a("p",[s._v("如果没有可视化工具，可通过容器命令进入数据库容器操作安装脚本")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" ruoyi-mysql mysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-uroot")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ppassword")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("create datebase ry-config "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" not exist charset uft8\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /tmp/*sql\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("strong",[s._v("数据库没问题之后检查 nacos 服务是否可用")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" logs "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" ruoyi-nacos\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/nacos1.png",alt:""}}),s._v("​")]),s._v(" "),a("p",[a("strong",[s._v("注意：如果服务报错 xxx NoDataSource xxx 之类错误，大概率是数据库没有对应表或者数据库连接不上")])]),s._v(" "),a("p",[s._v("例如")]),s._v(" "),a("div",{staticClass:"language-log line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-log"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v("Caused by:")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token exception javastacktrace language-javastacktrace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("IllegalStateException"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" No DataSource set\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("at")]),s._v(" org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Assert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("state")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Assert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("73"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("at")]),s._v(" org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("support"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("JdbcAccessor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("obtainDataSource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("JdbcAccessor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("77"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("at")]),s._v(" org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("JdbcTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("JdbcTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("371"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("at")]),s._v(" org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("JdbcTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("JdbcTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("452"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("at")]),s._v(" org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("JdbcTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("JdbcTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("462"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("at")]),s._v(" org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("JdbcTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("queryForObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("JdbcTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("473"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("at")]),s._v(" org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("JdbcTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("queryForObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("JdbcTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("480"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("at")]),s._v(" com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("alibaba"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nacos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("repository"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("extrnal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ExternalStoragePersistServiceImpl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("findConfigMaxId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ExternalStoragePersistServiceImpl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("658"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("at")]),s._v(" com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("alibaba"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nacos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dump"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("processor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DumpAllProcessor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("process")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("DumpAllProcessor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("51"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("at")]),s._v(" com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("alibaba"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nacos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dump"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DumpService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dumpConfigInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("DumpService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("293"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("at")]),s._v(" com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("alibaba"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nacos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dump"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DumpService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dumpOperate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("DumpService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("205"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 61 common frames omitted")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[s._v("此为数据库连接不上！数据库没问题，那么重启这个服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" restart ruoyi-nacos\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("可在浏览器中检查是否可用 http://192.168.233.40:8848/nacos/")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/nacos2.png",alt:""}}),s._v("​")]),s._v(" "),a("p",[s._v("然后就是按照上图所示修改各个服务的配置文件，主要有")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("连接 mysql 的将 localhost:3360 ,修改为 "),a("code",[s._v("mysql服务名:port")]),s._v(" 例如 "),a("code",[s._v("ruoyi-mysql:3306")])]),s._v(" "),a("p",[s._v("注意: 如果不将 连接地址URL 的")])]),s._v(" "),a("li",[a("p",[s._v("redis 同 上面 mysql 服务，将连接redis的，修改为 "),a("code",[s._v("ruoyi-redis")])])]),s._v(" "),a("li",[a("p",[s._v("其他服务同理")])])]),s._v(" "),a("p",[s._v("修改 redis 连接")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/nacos-redis.png",alt:""}}),s._v("​")]),s._v(" "),a("p",[s._v("修改 mysql 连接")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/nacos-mysql.png",alt:""}}),s._v("​")]),s._v(" "),a("p",[s._v("修改 mysql  "),a("code",[s._v("useSSL=false")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/mysql-useSSL.png",alt:""}}),s._v("​")]),s._v(" "),a("p",[a("strong",[s._v("2、启动")])]),s._v(" "),a("ul",[a("li",[s._v("网关服务")]),s._v(" "),a("li",[s._v("验证服务")]),s._v(" "),a("li",[s._v("核心服务")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" up "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" ruoyi-nginx ruoyi-gateway ruoyi-auth ruoyi-modules-system\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("检查是否能够连接服务 http://192.168.233.40:80/")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/ruoyi-ui-2.png",alt:""}})]),s._v(" "),a("p",[s._v("后台")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/wuxin0011/blog-resource@main/picgo/ruoyi-ui-3.png",alt:""}}),s._v("​")]),s._v(" "),a("p",[s._v("注意:如果获取失败 报错 404 或者其他错误，一定要耐心等待！配置生效有点慢")]),s._v(" "),a("p",[s._v("是在不行重启服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" start ruoyi-gateway ruoyi-auth ruoyi-modules-system\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("3、启动次要服务 (由于测试，和虚拟机容量问题，这个步骤就不操作了,下面给出操作，不截图了)")]),s._v(" "),a("ul",[a("li",[s._v("代码生成器")]),s._v(" "),a("li",[s._v("任务调度")]),s._v(" "),a("li",[s._v("文件服务")]),s._v(" "),a("li",[s._v("系统监视")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" up "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" ruoyi-modules-gen ruoyi-modules-job ruoyi-modules-file ruoyi-visual-monitor\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("🧡4、一次性开启所有服务，不建议一次性开启这么多服务，对对服务器有一定压力！！！")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" up "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_4、结束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、结束"}},[s._v("#")]),s._v(" 4、结束")]),s._v(" "),a("p",[s._v("就到这里吧！\n博客园地址: "),a("a",{attrs:{href:"https://www.cnblogs.com/wuxin001/p/17124437.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.cnblogs.com/wuxin001/p/17124437.html"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);