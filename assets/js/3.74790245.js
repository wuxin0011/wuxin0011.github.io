(window.webpackJsonp=window.webpackJsonp||[]).push([[3,7],{283:function(t,e,s){},284:function(t,e,s){"use strict";s(283)},285:function(t,e,s){"use strict";s.r(e),s.d(e,"addTip",(function(){return a}));s(45);function a(t,e,s=50,a=3e3){var i=document.querySelectorAll(".global-tip"),n=(new Date).getTime(),r=0==i.length?0:i[i.length-1].getAttribute("data-top"),o=parseInt(r)+(0!=i.length?i[i.length-1].offsetHeight+17:s);let u=document.createElement("div");u.className=`global-tip tip-${e} ${n} gloablTip`,u.style.top=parseInt(r)+"px",u.setAttribute("data-top",o),"info"==e||1==e?u.innerHTML=`<i class="iconfont icon-info icon"></i><p class="tip-info-content">${t}</p>`:"success"==e||2==e?u.innerHTML=`<i class="iconfont icon-dagouyouquan icon"></i><p class="tip-success-content">${t}</p>`:"danger"==e||3==e?u.innerHTML=`<i class="iconfont icon-cuowu icon"></i><p class="tip-danger-content">${t}</p>`:"warning"!=e&&4!=e||(u.innerHTML=`<i class="iconfont icon-gantanhao icon"></i><p class="tip-warning-content">${t}</p>`),document.body.appendChild(u);let l=document.getElementsByClassName(n)[0];setTimeout(()=>{l.style.top=parseInt(o)+"px",l.style.opacity="1"},10),setTimeout(()=>{l.style.top="0px",l.style.opacity="0";var t=function(t){for(var e=[],s=t;s;s=s.nextSibling)1===s.nodeType&&s!==t&&e.push(s);return e}(l);for(let a=0;a<t.length;a++){var e=t[a],s=parseInt(e.getAttribute("data-top"))-e.offsetHeight-17;e.setAttribute("data-top",s),e.style.top=s+"px"}setTimeout(()=>{l.remove()},500)},a)}var i={mounted(){"/"!=this.$route.path&&this.bgTimeColor()},watch:{$route(t,e){let s=document.getElementsByClassName("gloablTip");s&&s.length<=0&&"/"!=this.$route.path&&""==this.$route.hash&&this.bgTimeColor()}},methods:{bgTimeColor(){var t=(new Date).getHours(),e=(new Date).getMinutes(),s=(new Date).getSeconds();t=t<10?"0"+t:t,e=e<10?"0"+e:e,s=s<10?"0"+s:s;let i=document.createElement("div");i.className="banner-color",t>=6&&t<9?a(`早上好呀~~，现在是 ${t}:${e}:${s}，吃早餐了吗？🍔`,"info",50,4e3):t>=9&&t<12?a(`上午好~~，现在是 ${t}:${e}:${s}，摸鱼不要被发现了哦🐟~~`,"info",50,4e3):t>=12&&t<13?a(`中午好~~，现在是 ${t}:${e}:${s}，干饭时间到了哦🍚~~`,"info",50,4e3):t>=13&&t<14?a(`下午好呀~~，现在是 ${t}:${e}:${s}，繁忙的下午也要适当休息哦😴~~`,"info",50,4e3):t>=14&&t<17?a(`下午好呀~~，现在是 ${t}:${e}:${s}，下午也要摸鱼,不要被发现了哦🐟~~`,"info",50,4e3):t>=17&&t<19?a(`到黄昏了~~，现在是 ${t}:${e}:${s}，该准备吃饭啦🥗🍖~~`,"info",50,4e3):t>=19&&t<20?a(`晚上好呀~~，现在是 ${t}:${e}:${s}，忙碌了一天，也要运动哦🏃‍♂️~~`,"info",50,4e3):t>=20&&t<23?a(`晚上好呀~~，现在是 ${t}:${e}:${s}，晚上也要偷偷学习一会哦💯~~`,"info",50,4e3):t>=23&&t<24?a(`晚上好呀~~，现在是 ${t}:${e}:${s}，该准备洗漱睡觉啦🛀🥱😪~~`,"info",50,4e3):t>=0&&t<6&&a(`别再熬夜了~~，现在是 ${t}:${e}:${s}，早点睡吧，让我们一起欣赏早上的太阳~~😇🛏`,"info",50,4e3),document.body.append(i)}}},n=(s(284),s(8)),r=Object(n.a)(i,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null);e.default=r.exports},319:function(t,e,s){},362:function(t,e,s){"use strict";s(319)},370:function(t,e,s){"use strict";s.r(e);s(4),s(22),s(45),s(16),s(18);var a=s(285);const i=(t,e,s)=>{var i;if(t)if("function"==typeof e)if(void 0!==(null===(i=window)||void 0===i?void 0:i.fetch))window.fetch(t).then(t=>t.json()).then(t=>e(t)).catch(t=>s(t));else{if("undefined"==typeof XMLHttpRequest)return void Object(a.addTip)("当前浏览器版本过低，请更换浏览器！","danger");let i=new XMLHttpRequest;i.open("GET",t),i.send(),i.onload=t=>{const{readyState:a,status:i,response:n}=t.target;4===a&&200===i?e(JSON.parse(n)):s("加载失败！未知错误😢")},i.onerror=t=>{s(t)}}else console.error("callback为回调函数！");else console.error("url 为请求地址！")},n=(t,e)=>{void 0!==t&&void 0!==e&&null!==t&&null!==e?window.localStorage.setItem(t,"object"==typeof e?JSON.stringify(e):e):console.warn("key value 不允许为null或者undefined")},r=(t,e)=>null==t?(console.warn("key不允许为null或者undefined"),!1):(void 0===e&&(e=!1),e?JSON.parse(window.localStorage.getItem(t)):window.localStorage.getItem(t)),o=t=>{let e=r(t);return!!e&&"false"!==e};const u="wuxin-github-star-default",l="wuxin-github-star-hasMore",c="wuxin-github-star-save";var h={name:"GithubStar",data:()=>({starList:[],hasMore:!0,keywords:"",size:30,page:1,sort:0,username:"",avatar:"",initFirst:!0,isSave:!1,beforeSearchUsername:"",userIsExist:!1,loading:!1}),computed:{dataList(){let t=this.keywords,e=[...this.starList],s=[...this.starList];switch(this.sort){case 1:e.sort((t,e)=>t.stargazers_count-e.stargazers_count>0?1:-1);break;case 2:e.sort((t,e)=>t.stargazers_count-e.stargazers_count>0?-1:1);break;default:e=s}return e.filter(e=>e&&e.cardName&&-1!==e.cardName.indexOf(t)||e&&e.cardContent&&-1!==e.cardContent.indexOf(t))},tip:function(){return this.userIsExist?this.beforeSearchUsername!==this.username?"请点击搜索按钮":this.loading?"搜索中...":!this.loading&&Array.isArray(this.starList)&&0===this.starList.length?"搜索结果为空！":"未知错误！":"用户不存在！"}},mounted(){var t;this.username=null!==(t=r("wuxin-github-star-username"))&&void 0!==t?t:"wuxin0011",this.avatar=r("wuxin-github-star-user-avatar"),this.isSave=o(c),this.userIsExist=o("wuxin-github-user-exist"),this.beforeSearchUsername=this.username,this.init(),this.$watch("username",function(t,e){let s=null;return function(){s||(s=setTimeout(()=>{t.apply(this,arguments),s=null},e))}}(()=>{n("wuxin-github-star-username",this.username),this.validUserIsExist()},2e3)),window.document.querySelector("img.avatar").addEventListener("error",t=>{t.target.src="/icon/logo.ico"})},methods:{async init(){if(!this.initFirst||this.userIsExist||(await this.validUserIsExist(),this.isSave=!1,this.userIsExist)){if(this.isSave){let t=r(u,!0);return this.starList=t&&Array.isArray(t)?t:[],this.page=parseInt(String(this.starList.length/this.size))+1,this.hasMore=o(l),void(this.userIsExist=o("wuxin-github-user-exist"))}this.beforeSearchUsername!==this.username&&(this.starList=[],this.beforeSearchUsername=this.username),this.loading=!0,i(`https://api.github.com/users/${this.username}/starred?page=${this.page}`,t=>{this.loadData(t),this.loading=!1},t=>{this.loading=!1,Object(a.addTip)(t,"danger")})}else Object(a.addTip)("当前用户不存在！请重新输入用户名！","warning")},handlePage(t){this.page+=t,this.isSave=!1,this.init()},search(){this.username!==this.beforeSearchUsername?(this.page=1,this.isSave=!1,this.init()):Object(a.addTip)("只有用户名改变了才支持该操作！","warning")},clear(t=!0){n(u,[]),[c,l].forEach(t=>n(t,"false")),t&&Object(a.addTip)("缓存已清空！","success")},loadData(t){Array.isArray(t)?(this.hasMore=t.length===this.size,t.forEach(t=>{const{id:e,name:s,description:a,html_url:i,stargazers_count:n,owner:{avatar_url:r}}=t;this.starList.push({id:e,cardName:`${s||"unknown"} ${n>1e3?parseInt(String(n/1e3))+"K":""+n}`,cardSrc:i,cardImgSrc:r,cardContent:a||"暂无描述...",stargazers_count:n})}),this.initFirst||Object(a.addTip)(`搜索到${t.length}条结果🚀,共计结果${this.starList.length}条🚗${this.hasMore?"，点击加载更多查看更多内容！":"，没有更多了！"}`,"success"),n(u,this.starList),n(c,String(!0)),n(l,String(this.hasMore))):Object(a.addTip)("搜索结果为空🤔,可能没有跟多内容了或者检查用户名是否存在","warning"),this.initFirst=!1},validUserIsExist(){i("https://api.github.com/users/"+this.username,t=>{this.userIsExist=!(null==t||!t.login),this.avatar=t.avatar_url||"/icon/logo.ico",n("wuxin-github-user-exist",String(this.userIsExist)),n("wuxin-github-star-user-avatar",this.avatar),this.username!==this.beforeSearchUsername&&this.clear(!1)},t=>{this.userIsExist=!1,this.avatar="/icon/logo.ico",n("wuxin-github-star-user-avatar",this.avatar),n("wuxin-github-user-exist",String(!1))})},toHome(){window.open("https://github.com/"+this.username,"_blank")}}},d=(s(362),s(8)),p={components:{GithubStar:Object(d.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"github-star-project"},[e("div",{staticClass:"head"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text",placeholder:"输入关键词过滤..."},domProps:{value:t.keywords},on:{input:function(e){e.target.composing||(t.keywords=e.target.value)}}}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"sort"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.sort=e.target.multiple?s:s[0]}}},[e("option",{attrs:{label:"默认"},domProps:{value:0}}),t._v(" "),e("option",{attrs:{label:"按星数低"},domProps:{value:1}}),t._v(" "),e("option",{attrs:{label:"按星数高"},domProps:{value:2}})]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"github username..."},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:t.username!==t.beforeSearchUsername&&!!t.username,expression:"username !== beforeSearchUsername && !!username"}],on:{click:t.search}},[t._v("搜索")]),t._v(" "),e("button",{on:{click:t.clear}},[t._v("清空缓存")]),t._v(" "),e("div",{staticClass:"avatar-link"},[e("a",{attrs:{href:"https://github.com/"+t.username,target:"_blank"}},[e("img",{staticClass:"avatar",attrs:{src:t.avatar,alt:t.username,title:`点击访问${t.username}主页`}})])])]),t._v(" "),t.dataList&&t.dataList.length>0?e("div",[e("Card",{attrs:{cardData:t.dataList}})],1):e("div",{staticClass:"no-result"},[t._v("\n        "+t._s(t.tip)+"\n    ")]),t._v(" "),t.hasMore&&t.username?e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.handlePage(1)}}},[t._v("\n        "+t._s(t.loading?"加载中...":"点击加载更多...")+"\n    ")]):t._e()])}),[],!1,null,"c2f0ea0a",null).exports}},g=Object(d.a)(p,(function(){var t=this._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[t("ClientOnly",[t("GithubStar")],1)],1)}),[],!1,null,null,null);e.default=g.exports}}]);